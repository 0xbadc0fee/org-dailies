<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2023-11-02 Thu 17:28 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Dailies Journal</title>
<meta name="author" content="Silas Curfman" />
<meta name="generator" content="Org Mode" />
<link rel="stylesheet" type="text/css" href="htmlize.css" />
<link rel="stylesheet" type="text/css" href="org.css" />
</head>
<body>
<div id="content" class="content">
<h1 class="title">Dailies Journal</h1>
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#orgaf25c10">1. Telematics Training (Day 1)</a>
<ul>
<li><a href="#org5451eee">1.1. Attended</a></li>
<li><a href="#org2496bbc">1.2. Prerequisites</a>
<ul>
<li><a href="#orge69112a">1.2.1. Software <code>[3/3]</code></a></li>
<li><a href="#org20d4c8e">1.2.2. Hardware <code>[6/6]</code></a></li>
</ul>
</li>
<li><a href="#org51b79de">1.3. Training Topics / Minutes</a>
<ul>
<li><a href="#org2fc1a20">1.3.1. Summary / Review</a></li>
<li><a href="#org81e7739">1.3.2. Boot up and Flashing</a></li>
<li><a href="#orgaa2723e">1.3.3. Connecting via Serial</a></li>
<li><a href="#org6c91074">1.3.4. Enabling subsystems</a></li>
<li><a href="#org1e866b5">1.3.5. Connect to TCG via Wifi</a></li>
<li><a href="#org4a60912">1.3.6. Connect to TCG via Ethernet</a></li>
<li><a href="#org5ba11ec">1.3.7. Setup Build ENV</a></li>
<li><a href="#org6c91f5c">1.3.8. Building an application</a></li>
<li><a href="#org8b7557f">1.3.9. Tranfer Application</a></li>
<li><a href="#orgb566d23">1.3.10. Running applications</a></li>
<li><a href="#orgd88d5a5">1.3.11. Linux basics</a></li>
<li><a href="#org91bfcc6">1.3.12. Startup scripts</a></li>
<li><a href="#org4a2c988">1.3.13. TAF Overview</a></li>
<li><a href="#org3d3376c">1.3.14. ydatad</a></li>
<li><a href="#org129a5a0">1.3.15. webserver</a></li>
<li><a href="#org8d8b873">1.3.16. overlays</a></li>
<li><a href="#org0a1cb5b">1.3.17. REACH</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div id="outline-container-orgaf25c10" class="outline-2">
<h2 id="orgaf25c10"><span class="section-number-2">1.</span> Telematics Training (Day 1)</h2>
<div class="outline-text-2" id="text-1">
<p>
NOTE: These are internal meeting / training notes for STW Technic purposes only.
</p>
</div>
<div id="outline-container-org5451eee" class="outline-3">
<h3 id="org5451eee"><span class="section-number-3">1.1.</span> Attended</h3>
<div class="outline-text-3" id="text-1-1">
<ul class="org-ul">
<li>Brent K. : presenter</li>
<li>Tiffany G</li>
<li>Kyle B.</li>
<li>Zac D.</li>
<li>Silas C.</li>
</ul>
</div>
</div>
<div id="outline-container-org2496bbc" class="outline-3">
<h3 id="org2496bbc"><span class="section-number-3">1.2.</span> Prerequisites</h3>
<div class="outline-text-3" id="text-1-2">
</div>
<div id="outline-container-orge69112a" class="outline-4">
<h4 id="orge69112a"><span class="section-number-4">1.2.1.</span> Software <code>[3/3]</code></h4>
<div class="outline-text-4" id="text-1-2-1">
<ul class="org-ul">
<li class="on"><code>[X]</code> Windows or Linux dev environment</li>
<li class="on"><code>[X]</code> Serial terminal (i.e. Tera Term, Putty)</li>
<li class="on"><code>[X]</code> IMX Updater</li>
</ul>
</div>
</div>
<div id="outline-container-org20d4c8e" class="outline-4">
<h4 id="org20d4c8e"><span class="section-number-4">1.2.2.</span> Hardware <code>[6/6]</code></h4>
<div class="outline-text-4" id="text-1-2-2">
<ul class="org-ul">
<li class="on"><code>[X]</code> TCG4</li>
<li class="on"><code>[X]</code> TCG Breakout Dock</li>
<li class="on"><code>[X]</code> Startech.com USB &lt;-&gt; RS232 cable</li>
<li class="on"><code>[X]</code> DB9 gender swapper</li>
<li class="on"><code>[X]</code> USB thumb drives</li>
<li class="on"><code>[X]</code> Power / USB / Network cables</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-org51b79de" class="outline-3">
<h3 id="org51b79de"><span class="section-number-3">1.3.</span> Training Topics / Minutes</h3>
<div class="outline-text-3" id="text-1-3">
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#org2fc1a20">1.3.1. Summary / Review</a></li>
<li><a href="#org81e7739">1.3.2. Boot up and Flashing</a></li>
<li><a href="#orgaa2723e">1.3.3. Connecting via Serial</a></li>
<li><a href="#org6c91074">1.3.4. Enabling subsystems</a></li>
<li><a href="#org1e866b5">1.3.5. Connect to TCG via Wifi</a></li>
<li><a href="#org4a60912">1.3.6. Connect to TCG via Ethernet</a></li>
<li><a href="#org5ba11ec">1.3.7. Setup Build ENV</a></li>
<li><a href="#org6c91f5c">1.3.8. Building an application</a></li>
<li><a href="#org8b7557f">1.3.9. Tranfer Application</a></li>
<li><a href="#orgb566d23">1.3.10. Running applications</a></li>
<li><a href="#orgd88d5a5">1.3.11. Linux basics</a></li>
<li><a href="#org91bfcc6">1.3.12. Startup scripts</a></li>
<li><a href="#org4a2c988">1.3.13. TAF Overview</a></li>
<li><a href="#org3d3376c">1.3.14. ydatad</a></li>
<li><a href="#org129a5a0">1.3.15. webserver</a></li>
<li><a href="#org8d8b873">1.3.16. overlays</a></li>
<li><a href="#org0a1cb5b">1.3.17. REACH</a></li>
</ul>
</div>
</div>
<div id="outline-container-org2fc1a20" class="outline-4">
<h4 id="org2fc1a20"><span class="section-number-4">1.3.1.</span> Summary / Review</h4>
<div class="outline-text-4" id="text-1-3-1">
<ul class="org-ul">
<li>GOAL: Walkthrough and review basic flashing methods, necessary tools, dependencies, common troubleshooting, etc</li>
</ul>
</div>
</div>
<div id="outline-container-org81e7739" class="outline-4">
<h4 id="org81e7739"><span class="section-number-4">1.3.2.</span> Boot up and Flashing</h4>
<div class="outline-text-4" id="text-1-3-2">
<p>
Note:  Command and control of device is done via SERIAL, data transfer is via either USB or ETHERNET.  SERIAL is necessary in order to interact with device regardless of whether flash txfr will be done via USB or ETHERNET.
</p>
</div>
<ol class="org-ol">
<li><a id="org23b5c51"></a>Toolchain<br />
<div class="outline-text-5" id="text-1-3-2-1">
<ul class="org-ul">
<li class="off"><code>[&#xa0;]</code> Select appropriate .ZIP files
<ul class="org-ul">
<li><a href="https://drive.google.com/file/d/1_nFp7-n5JQ0Z2DmRpctblgyMZszpFLYf/view?usp=drive_link">Crocodile</a></li>
<li><a href="https://drive.google.com/file/d/13jhSkQdAPCfSJuAIRO9EFZt-Ldm-MAOP/view?usp=drive_link">Dingo</a></li>
<li><a href="https://drive.google.com/file/d/1GaUAlgGim-LCqV4dDJy6pF19YrpBvMD6/view?usp=drive_link">Firefly</a></li>
<li><a href="https://drive.google.com/file/d/1sCFWdRbR-FfwY2YgVUs_kwdArWh_xFUh/view?usp=drive_link">Impala</a></li>
<li><a href="https://drive.google.com/file/d/1XVqgZVW-j5L-g5-sMHr-EPEmcqMR_Jvx/view?usp=drive_link">Jellyfish</a></li>
</ul></li>
</ul>
</div>
</li>
<li><a id="orgc1073bc"></a>Flashing - ALL<br />
<div class="outline-text-5" id="text-1-3-2-2">
<ul class="org-ul">
<li>All firmware flashing methods for the TCG require the device be power cycled within 10 seconds of initiating the update process.  Universal steps include:
<ol class="org-ol">
<li>Pre-establish a direct SERIAL connection between the HOST pc and the TCG</li>
<li>Select a suitable data transfer method, either USB or TFTP (network)</li>
<li>From the desired firmware ZIP file launch the IMX UPDATER tool</li>
<li>Confirm the updater tool is configured for the correct COM port.</li>
<li>When ready, select 'Start Update' within the IMX UPDATER tool.</li>
<li>WITHIN 10 SEC, power cycle the attached TCG unit.</li>
<li>If successful, the debug window of the IMX UPDATER will interupt the normal boot up process and apply the updates before the OS is loaded.  Successful updating will be followed by an 'Update process terminated successfully' message in the debug window.</li>
</ol></li>
<li>If you receive a 'COMINT' error, be sure the COM port is not being used by any other tools such as Putty or Tera Term during the update process.</li>
</ul>
</div>
</li>
<li><a id="org9cd0945"></a>Flashing - USB<br />
<div class="outline-text-5" id="text-1-3-2-3">
<ul class="org-ul">
<li>Currently very dependent on USB hardware.  New, faster read write USB's can flash UBOOT but often fail when flashing the rest of the data.</li>
</ul>
</div>
</li>
<li><a id="org1292cb5"></a>Flashing - Ethernet<br />
<div class="outline-text-5" id="text-1-3-2-4">
<ul class="org-ul">
<li>Currently more reliable than USB.</li>
<li>Utilizes TFTP</li>
<li>Requires network connection from Host to TCG4</li>
<li>May require additional firwall permissions and whitelisting TFTP app.</li>
</ul>
</div>
</li>
<li><a id="orgc0d950b"></a>Flashing - Other<br />
<div class="outline-text-5" id="text-1-3-2-5">
<ul class="org-ul">
<li>Technically possible to flash via serial but would take far too long ( &gt;24hrs)</li>
<li>Legacy method, used to be an option, no longer reasonable.</li>
</ul>
</div>
</li>
</ol>
</div>
<div id="outline-container-orgaa2723e" class="outline-4">
<h4 id="orgaa2723e"><span class="section-number-4">1.3.3.</span> Connecting via Serial</h4>
<div class="outline-text-4" id="text-1-3-3">
<p>
Test serial access (115200 baud, 8 data bits, Parity = none, Stop Bits = 1, F/C = none)
</p>
<ul class="org-ul">
<li>Tera Term is most stable</li>
<li>PUTTY = OK, but some occasional issues, good backup though</li>
</ul>
</div>
</div>
<div id="outline-container-org6c91074" class="outline-4">
<h4 id="org6c91074"><span class="section-number-4">1.3.4.</span> Enabling subsystems</h4>
<div class="outline-text-4" id="text-1-3-4">
<p>
Note: all necessary changes can be done by edits to files in the /etc folder.
</p>
<ol class="org-ol">
<li>Connect via Serial</li>
<li>Log in</li>
<li><p>
Disable timeout
</p>
<div class="org-src-container">
<pre class="src src-shell">~ $ unset TMOUT
</pre>
</div></li>
<li><p>
Make user changes if necessary
</p>
<div class="org-src-container">
<pre class="src src-shell">~ $ sudo su
</pre>
</div></li>
<li>Configure Networking (LAN)
<ol class="org-ol">
<li>Enable Interface(s)
<ol class="org-ol">
<li>/etc/eth.conf = ethernet interface</li>
<li>/etc/wlan.conf = wireless interface</li>
<li>/etc/ssh.conf = ssh configuration (possible reboot necessary to generate key pairs)</li>
<li>NOTE: be sure each device can ping the other, both must see the other.</li>
</ol></li>
<li><p>
Dynamic IP Option (see manual section 5.4)
</p>
<div class="org-src-container">
<pre class="src src-shell">~ $ nmcli con add type ethernet ifname eth0 autoconnect yes con-name WIRED_DHCP ipv4.method auto 
</pre>
</div></li>
<li><p>
Static IP Option (see manual section 5.4)
</p>
<div class="org-src-container">
<pre class="src src-shell">~ $ nmcli con add type ethernet ifname eth0 autoconnect yes con-name WIRED_STATIC ip4 <span style="color: #a45bad;">192.168.1.77/24</span> ipv4.gateway <span style="color: #a45bad;">192.168.1.1</span> ipv4.dns <span style="color: #a45bad;">192.168.1.1</span> ipv4.method manual
</pre>
</div></li>
</ol></li>
<li><p>
Configure Networking (WLAN)
</p>
<ol class="org-ol">
<li>Ensure interface enabled</li>
<li>use nmcli command to configure and start Access Point</li>
</ol>
<div class="org-src-container">
<pre class="src src-shell">~ $ nmcli con add type wifi ifname wlan0 autoconnect yes ssid $<span style="color: #4f97d7;">(</span><span style="color: #bc6ec5;">hostname</span><span style="color: #4f97d7;">)</span> <span style="color: #a45bad;">802-11-wireless.mode</span> ap <span style="color: #a45bad;">802-11-wireless.band</span> bg ipv4.addresses <span style="color: #a45bad;">192.168.7.1/24</span> ipv4.method shared wifi-sec.key-mgmt wpa-psk wifi-sec.psk TEST12345 wifi-sec.group ccmp wifi-sec.pairwise ccmp con-name WIFI_STATIC
</pre>
</div></li>
<li>Validation Checks <code>[0/12]</code>
<ul class="org-ul">
<li class="off"><code>[&#xa0;]</code> service ETHERNET enabled ?</li>
<li class="off"><code>[&#xa0;]</code> service WIFI enabled ?</li>
<li class="off"><code>[&#xa0;]</code> service SSH enabled ?</li>
<li class="off"><code>[&#xa0;]</code> interface lan0 up ?</li>
<li class="off"><code>[&#xa0;]</code> interface wlan0 up ?</li>
<li class="off"><code>[&#xa0;]</code> added new LAN connection via nmcli ?</li>
<li class="off"><code>[&#xa0;]</code> added new WIFI connection via nmcli ?</li>
<li class="off"><code>[&#xa0;]</code> ~ $ nmcli con show  shows connections active</li>
<li class="off"><code>[&#xa0;]</code> ping from TCG to HOST via LAN = OK ?</li>
<li class="off"><code>[&#xa0;]</code> ping from HOST to TCG via LAN = OK ?</li>
<li class="off"><code>[&#xa0;]</code> ping from TCG to HOST via WIFI = OK ?</li>
<li class="off"><code>[&#xa0;]</code> ping from HOST to TCG via WIFI = OK ?</li>
</ul></li>
</ol>
<p>
Footnotes:
</p>
<ul class="org-ul">
<li>Shell codes above are for reference only.  You will need to make your own edits to ADDRESS, GATEWAY, DNS, etc.  The code shown above ran correctly at the time of this edit.</li>
<li>watch for ascii artifacts when operating in command line over serial connection.  Poor connection can generate unwanted ascii characters in terminal during use.</li>
<li>In case of misconfigured nmcli interface use (nmcli connection delete "CON-NAME") and reconfigure.</li>
</ul>
</div>
</div>
<div id="outline-container-org1e866b5" class="outline-4">
<h4 id="org1e866b5"><span class="section-number-4">1.3.5.</span> Connect to TCG via Wifi</h4>
</div>
<div id="outline-container-org4a60912" class="outline-4">
<h4 id="org4a60912"><span class="section-number-4">1.3.6.</span> Connect to TCG via Ethernet</h4>
</div>
<div id="outline-container-org5ba11ec" class="outline-4">
<h4 id="org5ba11ec"><span class="section-number-4">1.3.7.</span> Setup Build ENV</h4>
</div>
<div id="outline-container-org6c91f5c" class="outline-4">
<h4 id="org6c91f5c"><span class="section-number-4">1.3.8.</span> Building an application</h4>
</div>
<div id="outline-container-org8b7557f" class="outline-4">
<h4 id="org8b7557f"><span class="section-number-4">1.3.9.</span> Tranfer Application</h4>
<div class="outline-text-4" id="text-1-3-9">
</div>
<ol class="org-ol">
<li><a id="org7ee6ae9"></a>via SCP<br /></li>
<li><a id="org5d5be12"></a>via NSF<br /></li>
</ol>
</div>
<div id="outline-container-orgb566d23" class="outline-4">
<h4 id="orgb566d23"><span class="section-number-4">1.3.10.</span> Running applications</h4>
</div>
<div id="outline-container-orgd88d5a5" class="outline-4">
<h4 id="orgd88d5a5"><span class="section-number-4">1.3.11.</span> Linux basics</h4>
</div>
<div id="outline-container-org91bfcc6" class="outline-4">
<h4 id="org91bfcc6"><span class="section-number-4">1.3.12.</span> Startup scripts</h4>
</div>
<div id="outline-container-org4a2c988" class="outline-4">
<h4 id="org4a2c988"><span class="section-number-4">1.3.13.</span> TAF Overview</h4>
</div>
<div id="outline-container-org3d3376c" class="outline-4">
<h4 id="org3d3376c"><span class="section-number-4">1.3.14.</span> ydatad</h4>
</div>
<div id="outline-container-org129a5a0" class="outline-4">
<h4 id="org129a5a0"><span class="section-number-4">1.3.15.</span> webserver</h4>
</div>
<div id="outline-container-org8d8b873" class="outline-4">
<h4 id="org8d8b873"><span class="section-number-4">1.3.16.</span> overlays</h4>
</div>
<div id="outline-container-org0a1cb5b" class="outline-4">
<h4 id="org0a1cb5b"><span class="section-number-4">1.3.17.</span> REACH</h4>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: Silas Curfman</p>
<p class="date">Created: 2023-11-02 Thu 17:28</p>
<p class="validation"><a href="https://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>